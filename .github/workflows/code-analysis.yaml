name: practica-3-3-workflow

on: 
  push:
    branches: 
      - exercice-3


jobs: 
  exercice-3:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4
        name: "Code analysis"
      - run: | 
          echo "Realizando anÃ¡lisis de SAST"
          touch allow_pull_request.txt

      
      - name: "Check file"
        id: file_check
        uses: andstor/file-existence-action@v2
        with:
          files: "allow_pull_request.txt"
      
      - run: allow_pull='false' >> $GITHUB_ENV
      - name: "File exists"
        id: file_exists
        if: steps.file_check.outputs.files_exists == 'true'
        run: |
          allow_pull='true' >> $GITHUB_ENV          
      
      - name: "Can build"
        
        run: |
          echo "Building allowed: ${allow_pull}"
  
  
